<!DOCTYPE html>
<html lang="es">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<head>  
<%- include ('header', {tituloweb: '¡Oh my dog! | Usuarios'}); %>
</head>
<!-- BODY -->
<body id="body">
  <body id="body">
    <br>
    <div class="container-sm" style="max-width: 1200px;">
      <div class="card text-black" style="border-radius: 10px;">
  <table class="table" id="example">
      <thead>
        <tr>
          <th scope="col">Correo</th>
          <th scope="col">Nombre completo</th>
          <th scope="col">tel</th>
          <th scope="col">DNI</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
          <% data.forEach(usuario => { %>
        <tr class="paginate">
          <td><%= usuario.mail %></td>
          <td><%= usuario.name %></td>
          <td><%= usuario.tel %></td>
            <td><%= usuario.DNI %></td>
            <td><button type="button" onclick="location.href='<%= `/ver_cliente/${usuario.id}` %>'" class="btn btn-outline-primary"><i class="bi bi-eye-fill"></i> Ver</button>
              <button type="button" onclick="location.href='<%= `/agregar_mascota/cliente/${usuario.id}` %>'" class="btn btn-outline-info"><i class="bi bi-plus-lg me-2"></i>Agregar Mascota</button>
              <button type="button" onclick="location.href='<%= `/modificar/cliente/${usuario.id}` %>'" class="btn btn-outline-danger"><i class="bi bi-person-lines-fill"></i> Modificar</button>
              <button type="button" onclick="location.href='<%= `/registrarVisita/cliente/${usuario.id}` %>'" class="btn btn-outline-success">
                <i class="bi bi-house-add"></i> Registrar visita
              </button>
            </td>
          </tr>
          <% }); %>
        </tbody>
      </table>
          <div class="text-center">
            <a href="/">Volver</a>
          </div>
  </div>
  </div>


  <!-- JS BOOSTRAP -->
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
  <script>
$(document).ready(function () {
    $('#example').DataTable({
        paging: true,
        ordering: false,
        info: false,
        lengthMenu: [
            [5, 15, 50, -1],
            [5, 15, 50, 'Todos'],
        ],
        pageLength: 50, // Establecer como la opción por defecto
        searching: false, // deshabilita la función de búsqueda
        language: {
        paginate: {previous: 'Anterior', next: 'Siguiente',},
        zeroRecords: 'No hay clientes cargados',
        info: 'Mostrando pagina _PAGE_ de _PAGES_',
        infoEmpty: 'No hay clientes cargados',
        lengthMenu: 'Mostrar _MENU_ entradas'
        }
    });
});
  </script>
</body>

</html>